Usage
=====

There are two ways of using Freqgen: CLI and Python API. For each step, we'll
look at how to use the CLI and then how to use the (more complicated yet
flexible) Python API.


Five-second CLI tutorial
------------------------

The basic flow of Freqgen can be summarized in three steps.

#. Determine a target amino acid sequence::

    $ freqgen aa reference_sequences.fasta -o new_sequence.fasta -l LENGTH

#. Find the :math:`k`-mer and/or codon frequencies to optimize the amino acid sequence towards::

    $ freqgen featurize reference_sequences.fasta -k INT -o reference_sequences.yaml

#. Perform the optimization::

    $ freqgen -f reference_sequences.yaml -s new_sequence.fasta -v


Generate an amino acid sequence
-------------------------------

The first step of using Freqgen is to have an amino acid sequence. In the case
that you already have one, you can skip this step. If not, read on!

CLI
~~~

Freqgen has two ways of generating an amino acid sequence from the CLI. The
first is simply to translate a DNA sequence::

    $ freqgen aa --mode=seq your_DNA_sequence_here.fasta
    INQTEL*

To exclude stop codons, use the ``-s`` flag::

    $ freqgen aa --mode=seq your_DNA_sequence_here.fasta -s
    INQTEL

To put the sequence into a formatted FASTA file, there's a ``-o`` flag::

    $ freqgen aa --mode=seq your_DNA_sequence_here.fasta -o output_sequence.fasta
    $ cat output_sequence.fasta
    >Generated by Freqgen from your_DNA_sequence_here.fasta
    INQTEL*

The other option is to use the amino acid frequencies of a reference set of
sequences to create a new sequence of a given length. This is the default
setting, so there's no need for a ``--mode`` switch. However, you do need to
provide ``-l``, the desired length of the sequence, excluding the stop codon::

    $ freqgen aa reference_sequences.fasta -l 10
    TRIVEDTDSI*

The ``-o`` and ``-s`` commands work as before.

If your sequences are using an alternate genetic code, you can use the ``-t``
flag to provide Freqgen the alternate table's NCBI ID.

